<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Function Programming - Konsep-Konsep FP</title>
  </head>
  <body>
    <script>
      // Pure Function

      // Bad
      // let PI = 3.14;
      // const hitungLuasLingkaran = (jariJari) => {
      //   return PI * (jariJari * jariJari);
      // };

      // console.log(hitungLuasLingkaran(4));

      // PI = 5; // tidak sengaja nilai PI berubah

      // console.log(hitungLuasLingkaran(4));

      // const createPersonWithAge = (age, person) => {
      //   person.age = age;
      //   return person;
      // };

      // const person = {
      //   name: 'Bobo'
      // };

      // const newPerson = createPersonWithAge(18, person);

      // console.log({
      //   person,
      //   newPerson
      // });

      // Good
      const hitungLuasLingkaran = (jariJari) => {
        return 3.14 * (jariJari * jariJari);
      };

      console.log(hitungLuasLingkaran(4));
      console.log(hitungLuasLingkaran(4));
      console.log(hitungLuasLingkaran(8));
      console.log(hitungLuasLingkaran(8));

      const createPersonWithAge = (age, person) => {
        return { ...person, age };
      };

      const person = {
        name: "Bobo",
      };

      const newPerson = createPersonWithAge(18, person);

      console.log({
        person,
        newPerson,
      });

      // Immutability

      // Bad
      // const user = {
      //   firstname: 'Harry',
      //   lastName: 'Protter'
      // };

      // const renameLastNameUser = (newLastName, user) => {
      //   user.lastName = newLastName;
      // };

      // renameLastNameUser('Potter', user);

      // console.log(user);

      // Good
      const user = {
        firstname: "Harry",
        lastName: "Protter",
      };

      const createUserWithNewLastName = (newLastName, user) => {
        return { ...user, lastName: newLastName };
      };

      const newUser = createUserWithNewLastName("Potter", user);

      console.log(newUser);

      // Rekursif

      // Menggunakan do while
      // const countDown = start => {
      //   do {
      //     console.log(start);
      //     start -=1;
      //   }
      //   while(start > 0);
      // };

      // countDown(10);

      // Menggunakan Rekursif
      const countDown = (start) => {
        console.log(start);
        if (start > 0) countDown(start - 1);
      };

      countDown(10);

      // Higher-Order Function
      const hello = () => {
        console.log("Hello!");
      };

      const say = (someFunction) => {
        someFunction();
      };

      const sayHello = () => {
        return () => {
          console.log("Hello!");
        };
      };

      hello();
      say(hello);
      sayHello()();

      const names = ["Harry", "Ron", "Jeff", "Thomas"];

      const arrayMap = (arr, action) => {
        const loopTrough = (arr, action, newArray = [], index = 0) => {
          const item = arr[index];
          if (!item) return newArray;
          return loopTrough(arr, action, [...newArray, action(arr[index])], index + 1);
        };

        return loopTrough(arr, action);
      };

      const newNames = arrayMap(names, (name) => `${name}!`);

      console.log({
        names,
        newNames,
      });
    </script>
  </body>
</html>
